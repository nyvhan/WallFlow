<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <script>(function(){try{var t=localStorage.getItem("wallflow-theme");if(t==="light")document.documentElement.classList.add("light-mode");}catch(e){}})();</script>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WallFlow — Proposer un fond d'écran</title>
  <meta name="color-scheme" content="dark light" />
  <link rel="icon" type="image/x-icon" href="../icons/wallflow---logo.ico" />
  <meta name="description" content="La référence des fonds d'écran animés en 4K pour PC. Téléchargement gratuit et soumission de créations." />
  <meta property="og:title" content="WallFlow — Premium .mp4 Wallpapers" />
  <meta property="og:description" content="La référence des fonds d'écran animés en 4K pour PC. Téléchargement gratuit et soumission de créations." />
  <meta property="og:image" content="../preview.png" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="WallFlow — Premium .mp4 Wallpapers" />
  <meta name="twitter:description" content="La référence des fonds d'écran animés en 4K pour PC. Téléchargement gratuit et soumission de créations." />
  <meta name="twitter:image" content="../preview.png" />
  <style>
    :root{
      --bg: #0b0d12;
      --bg2:#07080c;
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.62);
      --shadow: 0 30px 80px rgba(0,0,0,.45);
      --radius: 22px;
      --radius2: 28px;
      --max: 1200px;
      --sf: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      --surface: rgba(255,255,255,.04);
      --surface-hover: rgba(255,255,255,.07);
      --border: rgba(255,255,255,.1);
      --border-hover: rgba(255,255,255,.14);
      --nav-bg: linear-gradient(180deg, rgba(12,14,20,.66), rgba(12,14,20,.28));
      --nav-border: rgba(255,255,255,.06);
    }
    :root.light-mode{
      --bg: #f5f5f7;
      --bg2: #e8e8ed;
      --text: rgba(0,0,0,.92);
      --muted: rgba(0,0,0,.55);
      --surface: rgba(0,0,0,.04);
      --surface-hover: rgba(0,0,0,.07);
      --border: rgba(0,0,0,.1);
      --border-hover: rgba(0,0,0,.18);
      --nav-bg: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.88));
      --nav-border: rgba(0,0,0,.08);
      --shadow: 0 30px 80px rgba(0,0,0,.12);
    }
    .themeToggle{ display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; padding: 0; border: none; border-radius: 12px; background: var(--surface); border: 1px solid var(--border); color: var(--text); cursor: pointer; transition: background .2s, border-color .2s; }
    .themeToggle:hover{ background: var(--surface-hover); border-color: var(--border-hover); }
    .themeToggle svg{ display: block; }

    *{ box-sizing:border-box; }
    html{ overflow-x: hidden; scrollbar-color: rgba(255,255,255,.12) var(--bg); scrollbar-width: thin; }
    html::-webkit-scrollbar{ width: 10px; }
    html::-webkit-scrollbar-track{ background: var(--bg); }
    html::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.12); border-radius: 999px; }
    html::-webkit-scrollbar-thumb:hover{ background: rgba(255,255,255,.18); }
    html,body{ min-height:100%; }
    body{
      margin:0;
      font-family: var(--sf);
      color:var(--text);
      background:
        radial-gradient(1100px 700px at 18% -10%, rgba(255,255,255,.08), transparent 55%),
        radial-gradient(900px 600px at 90% 10%, rgba(82, 170, 255,.10), transparent 55%),
        radial-gradient(900px 600px at 60% 90%, rgba(255, 88, 200,.08), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      background-color: var(--bg);
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      letter-spacing: -.01em;
    }
    a{ color:inherit; text-decoration:none; }
    button{ font:inherit; color:inherit; }
    input, select, textarea{ font-family: inherit; }

    body::before{
      content:"";
      position:fixed; inset:-40%;
      background:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      opacity:.14;
      pointer-events:none;
      transform: translateZ(0);
      animation: grain 8s steps(8) infinite;
    }
    @keyframes grain{
      0%{ transform: translate3d(-2%, -2%, 0) }
      20%{ transform: translate3d(3%, -1%, 0) }
      40%{ transform: translate3d(2%, 4%, 0) }
      60%{ transform: translate3d(-3%, 2%, 0) }
      80%{ transform: translate3d(-1%, -3%, 0) }
      100%{ transform: translate3d(-2%, -2%, 0) }
    }

    .wrap{ width:min(var(--max), 100% - 2*clamp(18px, 4vw, 44px)); margin-inline:auto; }
    .topPad{ padding-top: 78px; }

    .nav{
      position:fixed;
      top:0; left:0; right:0;
      z-index:50;
      padding: 14px 0;
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      background: var(--nav-bg);
      border-bottom: 1px solid var(--nav-border);
    }
    .navRow{ display:flex; align-items:center; justify-content:space-between; gap: 14px; }
    .brand{ display:flex; align-items:center; gap: 10px; min-width: 180px; }
    .logoWrap{
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: transparent;
      border: 1px solid rgba(255,255,255,.1);
      box-shadow: 0 0 16px rgba(255,255,255,.06), 0 0 28px rgba(82,170,255,.1);
      overflow: hidden;
      animation: logoSpin 12s linear infinite;
    }
    .logo{ width: 28px; height: 28px; object-fit: contain; display: block; animation: logoBreath 3s ease-in-out infinite; }
    @keyframes logoSpin{ to{ transform: rotate(360deg); } }
    @keyframes logoBreath{ 0%, 100%{ opacity: 1; transform: scale(1); } 50%{ opacity: .92; transform: scale(1.04); } }
    .brand b{ font-weight: 650; letter-spacing: -.02em; }
    .brand span{ color:var(--muted); font-weight: 520; font-size: 12.5px; }

    .navRight{ display:flex; align-items:center; justify-content:flex-end; gap: 10px; min-width: 320px; }
    .chip{ padding: 9px 12px; border-radius: 999px; border: 1px solid var(--border); background: var(--surface); color: var(--text); font-size: 12.5px; font-weight: 560; transition: transform .25s ease, background .25s ease, border-color .25s ease; user-select:none; white-space:nowrap; opacity: .9; }
    .chip:hover{ transform: translateY(-1px); background: var(--surface-hover); border-color: var(--border-hover); }

    .burgerBtn{ display: none; align-items: center; justify-content: center; width: 44px; height: 44px; padding: 0; border: none; border-radius: 12px; background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.1); color: rgba(255,255,255,.9); cursor: pointer; position: relative; flex-shrink: 0; }
    .burgerBtn:hover{ background: rgba(255,255,255,.1); border-color: rgba(255,255,255,.18); }
    .burgerBtn span{ position: relative; display: block; width: 20px; height: 2px; background: currentColor; border-radius: 1px; }
    .burgerBtn span::before, .burgerBtn span::after{ content: ""; position: absolute; left: 0; width: 20px; height: 2px; background: currentColor; border-radius: 1px; }
    .burgerBtn span::before{ top: -7px; }
    .burgerBtn span::after{ top: 7px; }
    .navOverlay{ position: fixed; inset: 0; z-index: 55; background: rgba(0,0,0,.6); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); opacity: 0; visibility: hidden; transition: opacity .3s ease, visibility .3s ease; }
    .navOverlay.is-open{ opacity: 1; visibility: visible; }
    .navDrawer{ position: fixed; top: 0; right: 0; width: min(280px, 85vw); height: 100%; background: linear-gradient(180deg, rgba(12,14,20,.98), rgba(8,10,14,.98)); border-left: 1px solid rgba(255,255,255,.1); box-shadow: -20px 0 60px rgba(0,0,0,.4); padding: 80px 24px 24px; display: flex; flex-direction: column; gap: 8px; transform: translateX(100%); transition: transform .3s ease; z-index: 56; }
    .navOverlay.is-open .navDrawer{ transform: translateX(0); }
    .navDrawer .chip{ display: block; text-align: center; padding: 14px 16px; font-size: 15px; }

    /* Carte formulaire Glassmorphism */
    .submitSection{ padding: clamp(32px, 6vw, 56px) 0; display: flex; justify-content: center; align-items: flex-start; }
    .submitCard{
      width: 100%;
      max-width: 560px;
      padding: clamp(28px, 4vw, 40px);
      border-radius: var(--radius2);
      background: rgba(0,0,0,.5);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 24px 60px rgba(0,0,0,.4);
    }
    .submitCard h1{ margin: 0 0 8px; font-size: clamp(22px, 3.2vw, 28px); font-weight: 720; letter-spacing: -.02em; }
    .submitCard .sub{ margin: 0 0 24px; color: rgba(255,255,255,.65); font-size: 14px; line-height: 1.5; }

    .submitForm label{ display: block; margin-bottom: 6px; font-size: 13px; font-weight: 620; color: rgba(255,255,255,.88); }
    .submitForm input[type="text"],
    .submitForm input[type="url"],
    .submitForm select,
    .submitForm textarea{
      width: 100%;
      padding: 12px 16px;
      margin-bottom: 18px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-size: 14px;
      transition: border-color .2s, background .2s;
    }
    .submitForm input::placeholder,
    .submitForm textarea::placeholder{ color: rgba(255,255,255,.45); }
    .submitForm input:focus,
    .submitForm select:focus,
    .submitForm textarea:focus{
      outline: none;
      border-color: rgba(255,255,255,.25);
      background: rgba(255,255,255,.08);
    }
    .submitForm textarea{ min-height: 100px; resize: vertical; }

    /* ——— Select Premium (Glassmorphism) ——— */
    .premium-select{
      width: 100%;
      padding: 12px 44px 12px 16px;
      margin-bottom: 18px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.1);
      background: rgba(0,0,0,.4);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: rgba(255,255,255,.92);
      font-size: 14px;
      font-family: inherit;
      transition: border-color .2s ease, background .2s ease, box-shadow .2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      cursor: pointer;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='rgba(255,255,255,0.85)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 16px center;
      background-size: 18px 18px;
    }
    .premium-select:hover{
      border-color: rgba(255,255,255,.15);
      background: rgba(0,0,0,.5);
    }
    .premium-select:focus{
      outline: none;
      border-color: rgba(255,255,255,.25);
      background: rgba(0,0,0,.6);
      box-shadow: 0 0 0 3px rgba(82, 170, 255, .25), 0 0 20px rgba(82, 170, 255, .12);
    }
    .premium-select option{
      background: rgba(0,0,0,.95);
      color: rgba(255,255,255,.92);
      padding: 12px 14px;
      border: none;
    }

    /* ——— Select Catégorie personnalisé (Premium) ——— */
    .categorySelect{ position: relative; margin-bottom: 18px; }
    .categorySelectTrigger{
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 16px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.1);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-size: 14px;
      cursor: pointer;
      transition: border-color .2s, background .2s, box-shadow .2s;
      appearance: none;
      text-align: left;
    }
    .categorySelectTrigger:hover{
      border-color: rgba(255,255,255,.15);
      background: rgba(255,255,255,.07);
    }
    .categorySelectTrigger:focus,
    .categorySelect.is-open .categorySelectTrigger{
      outline: none;
      border-color: rgba(255,255,255,.2);
      background: rgba(255,255,255,.06);
      box-shadow: 0 0 0 3px rgba(82, 170, 255, .25), 0 0 20px rgba(82, 170, 255, .12);
    }
    .categorySelectArrow{
      width: 18px;
      height: 18px;
      flex-shrink: 0;
      opacity: .85;
      transition: transform .25s ease;
    }
    .categorySelect.is-open .categorySelectArrow{ transform: rotate(180deg); }
    .categorySelectMenu{
      position: absolute;
      top: calc(100% + 6px);
      left: 0;
      right: 0;
      padding: 6px;
      border-radius: 12px;
      background: rgba(0,0,0,.75);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 20px 50px rgba(0,0,0,.45);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-6px);
      transition: opacity .2s ease, visibility .2s ease, transform .2s ease;
      z-index: 40;
    }
    .categorySelect.is-open .categorySelectMenu{ opacity: 1; visibility: visible; transform: translateY(0); }
    .categorySelectOption{
      display: block;
      width: 100%;
      padding: 12px 14px;
      border: none;
      border-radius: 8px;
      background: transparent;
      color: rgba(255,255,255,.92);
      font-size: 14px;
      text-align: left;
      cursor: pointer;
      transition: background .2s ease;
    }
    .categorySelectOption:hover{ background: rgba(255,255,255,.1); }
    .categorySelectOption.is-selected{ background: rgba(255,255,255,.08); color: #fff; }

    .submitCheckWrap{ margin-bottom: 24px; display: flex; align-items: flex-start; gap: 12px; }
    .submitCheckWrap input[type="checkbox"]{ width: 20px; height: 20px; margin: 2px 0 0; accent-color: rgba(10, 132, 255, .9); cursor: pointer; flex-shrink: 0; }
    .submitCheckWrap label{ margin: 0; font-weight: 520; font-size: 13px; color: rgba(255,255,255,.82); line-height: 1.45; cursor: pointer; }

    .submitBtn{
      display: block;
      width: 100%;
      padding: 16px 24px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.2);
      background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      color: #fff;
      font-size: 16px;
      font-weight: 700;
      letter-spacing: -.01em;
      cursor: pointer;
      transition: box-shadow .3s ease, transform .2s ease, background .2s ease, border-color .2s ease;
    }
    .submitBtn:hover{
      background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.1));
      border-color: rgba(255,255,255,.3);
      transform: translateY(-1px);
      box-shadow: 0 0 28px rgba(82, 170, 255, .35), 0 0 50px rgba(82, 170, 255, .15);
    }

    .submitDisclaimer{ margin-top: 20px; font-size: 11.5px; color: rgba(255,255,255,.5); line-height: 1.5; text-align: center; }

    footer{ padding: 20px 16px; margin-top: 8px; background: transparent !important; border: none !important; box-shadow: none !important; text-align: center; }
    footer p{ background: transparent !important; margin: 0; }
    .footerLine{ font-size: 12px; color: rgba(255,255,255,0.4); line-height: 1.5; max-width: 72ch; margin: 0 auto; }
    .footerLine a{ color: inherit; text-decoration: underline; text-underline-offset: 2px; }
    .footerLine a:hover{ color: rgba(255,255,255,0.55); }

    /* Sélecteur de langue */
    .langPicker{ position: relative; margin-right: 6px; }
    .langPickerTrigger{ display: inline-flex; align-items: center; gap: 6px; padding: 8px 12px; border-radius: 999px; border: 1px solid rgba(255,255,255,.1); background: rgba(255,255,255,.04); color: rgba(255,255,255,.88); font-size: 12px; font-weight: 560; cursor: pointer; transition: border-color .25s ease, background .25s ease; }
    .langPickerTrigger:hover{ border-color: rgba(255,255,255,.18); background: rgba(255,255,255,.07); }
    .langPickerChevron{ width: 12px; height: 12px; opacity: .8; transition: transform .25s ease; }
    .langPicker.is-open .langPickerChevron{ transform: rotate(180deg); }
    .langPickerMenu{ position: absolute; top: calc(100% + 8px); right: 0; min-width: 200px; padding: 8px; border-radius: 16px; background: rgba(0,0,0,.7); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,.12); box-shadow: 0 20px 50px rgba(0,0,0,.45); opacity: 0; visibility: hidden; transform: translateY(-6px); transition: opacity .2s ease, visibility .2s ease, transform .2s ease; z-index: 60; }
    .langPicker.is-open .langPickerMenu{ opacity: 1; visibility: visible; transform: translateY(0); }
    .langPickerItem{ display: flex; align-items: center; justify-content: space-between; width: 100%; padding: 10px 14px; border: none; border-radius: 12px; background: transparent; color: rgba(255,255,255,.92); font-size: 13px; font-weight: 520; cursor: pointer; transition: background .2s ease; text-align: left; }
    .langPickerItem:hover{ background: rgba(255,255,255,.1); }
    .langPickerItem.is-active{ background: rgba(255,255,255,.08); color: #fff; }
    .langPickerOrigin{ font-size: 11px; opacity: .6; font-weight: 450; margin-left: 6px; white-space: nowrap; }

    #langWarningOverlay{ position: fixed; inset: 0; z-index: 110; display: flex; align-items: center; justify-content: center; padding: 24px; background: rgba(0,0,0,.6); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); opacity: 0; visibility: hidden; transition: opacity .3s ease, visibility .3s ease; }
    #langWarningOverlay.is-open{ opacity: 1; visibility: visible; }
    #langWarningBox{ max-width: 420px; padding: 28px 24px; border-radius: 22px; background: rgba(12,14,20,.88); border: 1px solid rgba(255,255,255,.12); box-shadow: 0 30px 80px rgba(0,0,0,.5); text-align: center; }
    #langWarningMessage{ margin: 0 0 24px; font-size: 14px; line-height: 1.6; color: rgba(255,255,255,.88); }
    #langWarningOk{ padding: 12px 24px; border-radius: 999px; border: 1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.1); color: #fff; font-size: 14px; font-weight: 600; cursor: pointer; transition: background .2s, border-color .2s; }
    #langWarningOk:hover{ background: rgba(255,255,255,.16); border-color: rgba(255,255,255,.25); }

    /* ——— Pop-up succès envoi (Glassmorphism) ——— */
    #submitSuccessOverlay{
      position: fixed; inset: 0; z-index: 115;
      display: flex; align-items: center; justify-content: center;
      padding: 24px;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      opacity: 0; visibility: hidden;
      transition: opacity .3s ease, visibility .3s ease;
    }
    #submitSuccessOverlay.is-open{ opacity: 1; visibility: visible; }
    #submitSuccessBox{
      max-width: 400px;
      padding: 32px 28px;
      border-radius: 22px;
      background: rgba(12,14,20,.88);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 30px 80px rgba(0,0,0,.5);
      text-align: center;
    }
    #submitSuccessMessage{ margin: 0 0 24px; font-size: 16px; line-height: 1.5; color: rgba(255,255,255,.92); }
    #submitSuccessBtn{
      padding: 14px 28px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.2);
      background: rgba(255,255,255,.1);
      color: #fff;
      font-size: 15px;
      font-weight: 650;
      cursor: pointer;
      transition: background .2s, border-color .2s;
    }
    #submitSuccessBtn:hover{ background: rgba(255,255,255,.16); border-color: rgba(255,255,255,.28); }

    .submitError{
      margin-bottom: 18px;
      padding: 12px 16px;
      border-radius: 12px;
      background: rgba(220, 60, 60, .15);
      border: 1px solid rgba(220, 60, 60, .35);
      color: rgba(255, 200, 200, .95);
      font-size: 13px;
      line-height: 1.45;
      display: none;
    }
    .submitError.is-visible{ display: block; }

    @media (max-width: 980px){ .navRight{ display:none; } .burgerBtn{ display: inline-flex; } }
    @media (max-width: 768px){ .brand span{ display: none; } .brand{ min-width: 0; } .submitCard h1{ font-size: clamp(22px, 5vw, 26px); } }
    @media (max-width: 640px){ .brand span{ display:none; } }
    @media (prefers-reduced-motion: reduce){ *{ animation:none !important; transition: none !important; } body::before{ display:none; } }
  </style>
</head>
<body>
  <header class="nav" role="banner">
    <div class="wrap navRow">
      <a class="brand" href="../">
        <span class="logoWrap"><img class="logo" src="../icons/wallflow---logo.ico" alt="WallFlow" /></span>
        <div style="display:flex; flex-direction:column; line-height:1.05;">
          <b>WallFlow</b>
          <span data-i18n="nav_brand_submit">Proposer un fond d'écran</span>
        </div>
      </a>
      <nav class="navRight" aria-label="Navigation">
        <div class="langPicker" id="langPicker">
          <button type="button" class="langPickerTrigger" id="langPickerTrigger" aria-haspopup="true" aria-expanded="false" aria-label="Choisir la langue">
            <span class="langPickerLabel" id="langPickerLabel">FR</span>
            <svg class="langPickerChevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="langPickerMenu" id="langPickerMenu" role="menu" aria-label="Langue">
            <button type="button" class="langPickerItem" role="menuitem" data-lang="fr">Français <span class="langPickerOrigin">(Langue d'origine)</span></button>
            <button type="button" class="langPickerItem" role="menuitem" data-lang="en">English</button>
            <button type="button" class="langPickerItem" role="menuitem" data-lang="es">Español</button>
          </div>
        </div>
        <a class="chip" href="../" data-i18n="nav_home">Accueil</a>
        <a class="chip" href="../collection/" data-i18n="nav_collection">Toute la collection</a>
        <a class="chip" href="../aide/" data-i18n="nav_help">Aide</a>
        <a class="chip" href="../contact/" data-i18n="nav_contact">Contact</a>
        <a class="chip" href="./" data-i18n="nav_submit">Soumettre</a>
        <a class="chip" href="../creator/" data-i18n="nav_about">À propos</a>
      </nav>
      <button type="button" id="themeToggle" class="themeToggle" aria-label="Passer en mode clair" title="Mode clair">
        <svg id="themeIconSun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" aria-hidden="true"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        <svg id="themeIconMoon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" aria-hidden="true" style="display:none"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
      </button>
      <button type="button" class="burgerBtn" id="burgerBtn" aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="navDrawer"><span></span></button>
    </div>
  </header>
  <div class="navOverlay" id="navOverlay" aria-hidden="true">
    <div class="navDrawer" id="navDrawer" role="dialog" aria-label="Menu de navigation">
      <a class="chip" href="../" data-i18n="nav_home">Accueil</a>
      <a class="chip" href="../collection/" data-i18n="nav_collection">Toute la collection</a>
      <a class="chip" href="../aide/" data-i18n="nav_help">Aide</a>
      <a class="chip" href="../contact/" data-i18n="nav_contact">Contact</a>
      <a class="chip" href="./" data-i18n="nav_submit">Soumettre</a>
      <a class="chip" href="../creator/" data-i18n="nav_about">À propos</a>
    </div>
  </div>

  <main class="wrap topPad">
    <section class="submitSection" aria-label="Formulaire de proposition">
      <div class="submitCard">
        <h1 data-i18n="submit_title">Proposer un fond d'écran</h1>
        <p class="sub" data-i18n="submit_intro">Partage ta création avec la communauté WallFlow. Remplis le formulaire ci-dessous.</p>

        <form class="submitForm" action="https://formspree.io/f/mqedzeqa" method="POST">
          <label for="submit-username" data-i18n="submit_label_username">Nom / Pseudo</label>
          <input type="text" id="submit-username" name="username" required data-i18n-ph="submit_ph_username" placeholder="Ton nom ou pseudo" />

          <label for="submit-link" data-i18n="submit_label_link">Lien du Wallpaper</label>
          <input type="url" id="submit-link" name="link" required data-i18n-ph="submit_ph_link" placeholder="Lien Drive, Mega, ou YouTube" />

          <label for="submit-category" id="submit-label-category" data-i18n="submit_label_category">Catégorie</label>
          <div class="categorySelect" id="categorySelect">
            <input type="hidden" name="category" id="submit-category" value="gaming" required />
            <button type="button" class="categorySelectTrigger" id="categorySelectTrigger" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="submit-label-category">
              <span class="categorySelectLabel" id="categorySelectLabel">Gaming</span>
              <svg class="categorySelectArrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M6 9l6 6 6-6"/></svg>
            </button>
            <div class="categorySelectMenu" id="categorySelectMenu" role="listbox" aria-label="Catégorie">
              <button type="button" class="categorySelectOption is-selected" role="option" data-value="gaming" data-i18n="submit_cat_gaming" aria-selected="true">Gaming</button>
              <button type="button" class="categorySelectOption" role="option" data-value="anime" data-i18n="submit_cat_anime">Anime</button>
              <button type="button" class="categorySelectOption" role="option" data-value="minimaliste" data-i18n="submit_cat_minimaliste">Minimaliste</button>
              <button type="button" class="categorySelectOption" role="option" data-value="nature" data-i18n="submit_cat_nature">Nature</button>
              <button type="button" class="categorySelectOption" role="option" data-value="autre" data-i18n="submit_cat_autre">Autre</button>
            </div>
          </div>

          <label for="submit-message" data-i18n="submit_label_message">Message (détails optionnels)</label>
          <textarea id="submit-message" name="message" data-i18n-ph="submit_ph_message" placeholder="Précisions, crédits, lien vers l'artiste…"></textarea>

          <div class="submitCheckWrap">
            <input type="checkbox" id="submit-rights" name="rights" required />
            <label for="submit-rights" data-i18n="submit_checkbox">Je certifie être l'auteur de cette œuvre ou disposer des droits de partage nécessaires.</label>
          </div>

          <p class="submitError" id="submitError" role="alert" aria-live="assertive"></p>
          <button type="submit" class="submitBtn" id="submitBtn" data-i18n="submit_btn">Envoyer ma création</button>
        </form>

        <p class="submitDisclaimer" data-i18n="submit_disclaimer">WallFlow respecte le droit d'auteur. Tout contenu signalé par son créateur original sera retiré immédiatement.</p>
      </div>
    </section>

    <footer>
      <p class="footerLine" data-i18n="footer_line" data-i18n-html="true">© 2026 WallFlow • Premium Wallpapers • Pour toute demande de retrait : <a href="../contact/">Contact</a></p>
    </footer>
  </main>

  <div id="langWarningOverlay" role="dialog" aria-modal="true" aria-labelledby="langWarningMessage">
    <div id="langWarningBox">
      <p id="langWarningMessage"></p>
      <button type="button" id="langWarningOk" data-i18n="warning_ok">Compris</button>
    </div>
  </div>
  <div id="submitSuccessOverlay" role="dialog" aria-modal="true" aria-labelledby="submitSuccessMessage">
    <div id="submitSuccessBox">
      <p id="submitSuccessMessage" data-i18n="submit_success_message">Ta création a bien été envoyée. Merci !</p>
      <button type="button" id="submitSuccessBtn" data-i18n="submit_success_btn">Génial !</button>
    </div>
  </div>
  <script src="../theme.js"></script>
  <script src="../lang.js"></script>
  <script>
    (function(){
      var wrap = document.getElementById("categorySelect");
      var trigger = document.getElementById("categorySelectTrigger");
      var labelEl = document.getElementById("categorySelectLabel");
      var menu = document.getElementById("categorySelectMenu");
      var hiddenInput = document.getElementById("submit-category");
      if (!wrap || !trigger || !menu || !hiddenInput) return;

      function getSelectedOption(){
        var value = hiddenInput.value || "gaming";
        return menu.querySelector(".categorySelectOption[data-value=\"" + value + "\"]");
      }
      function updateTriggerText(){
        var opt = getSelectedOption();
        if (opt) labelEl.textContent = opt.textContent;
      }
      function closeMenu(){
        wrap.classList.remove("is-open");
        trigger.setAttribute("aria-expanded", "false");
      }
      function openMenu(){
        wrap.classList.add("is-open");
        trigger.setAttribute("aria-expanded", "true");
      }

      updateTriggerText();

      trigger.addEventListener("click", function(e){
        e.preventDefault();
        if (wrap.classList.contains("is-open")) closeMenu();
        else openMenu();
      });

      menu.querySelectorAll(".categorySelectOption").forEach(function(opt){
        opt.addEventListener("click", function(e){
          e.stopPropagation();
          var value = this.getAttribute("data-value");
          hiddenInput.value = value;
          menu.querySelectorAll(".categorySelectOption").forEach(function(o){ o.classList.remove("is-selected"); o.setAttribute("aria-selected", "false"); });
          this.classList.add("is-selected");
          this.setAttribute("aria-selected", "true");
          labelEl.textContent = this.textContent;
          closeMenu();
        });
      });

      document.addEventListener("click", function(e){
        if (wrap.classList.contains("is-open") && !wrap.contains(e.target)) closeMenu();
      });
      document.addEventListener("keydown", function(e){
        if (e.key === "Escape") closeMenu();
      });

      window.addEventListener("wallflow-lang-applied", updateTriggerText);
    })();

    (function(){
      var form = document.querySelector(".submitForm");
      var submitBtn = document.getElementById("submitBtn");
      var errorEl = document.getElementById("submitError");
      var successOverlay = document.getElementById("submitSuccessOverlay");
      var successBtn = document.getElementById("submitSuccessBtn");
      var categorySelect = document.getElementById("categorySelect");
      var categoryLabel = document.getElementById("categorySelectLabel");
      var categoryHidden = document.getElementById("submit-category");
      var categoryOptions = document.querySelectorAll(".categorySelectOption");
      if (!form || !successOverlay) return;

      function getI18n(key){
        var el = document.querySelector("[data-i18n=\"" + key + "\"]");
        return el ? el.textContent : key;
      }
      function resetForm(){
        form.reset();
        if (categoryHidden && categoryOptions.length) {
          categoryHidden.value = "gaming";
          categoryOptions.forEach(function(o){
            var v = o.getAttribute("data-value");
            if (v === "gaming") { o.classList.add("is-selected"); o.setAttribute("aria-selected", "true"); }
            else { o.classList.remove("is-selected"); o.setAttribute("aria-selected", "false"); }
          });
          if (categoryLabel) categoryLabel.textContent = getI18n("submit_cat_gaming");
        }
      }
      function showSuccess(){
        var msgEl = document.getElementById("submitSuccessMessage");
        var btnEl = document.getElementById("submitSuccessBtn");
        if (msgEl) msgEl.textContent = getI18n("submit_success_message");
        if (btnEl) btnEl.textContent = getI18n("submit_success_btn");
        successOverlay.classList.add("is-open");
      }
      function closeSuccess(){
        successOverlay.classList.remove("is-open");
      }
      function showError(){
        errorEl.textContent = getI18n("submit_error_message");
        errorEl.classList.add("is-visible");
      }
      function hideError(){
        errorEl.classList.remove("is-visible");
      }

      successBtn.addEventListener("click", closeSuccess);
      successOverlay.addEventListener("click", function(e){
        if (e.target === successOverlay) closeSuccess();
      });
      document.addEventListener("keydown", function(e){
        if (e.key === "Escape" && successOverlay.classList.contains("is-open")) closeSuccess();
      });

      form.addEventListener("submit", function(e){
        e.preventDefault();
        hideError();
        submitBtn.disabled = true;

        var body = new FormData(form);
        fetch(form.action, {
          method: "POST",
          body: body,
          headers: { "Accept": "application/json" }
        })
          .then(function(res){
            if (res.ok) {
              resetForm();
              showSuccess();
            } else {
              showError();
            }
          })
          .catch(function(){
            showError();
          })
          .finally(function(){ submitBtn.disabled = false; });
      });
    })();
    (function(){
      var burger = document.getElementById("burgerBtn");
      var overlay = document.getElementById("navOverlay");
      var drawer = document.getElementById("navDrawer");
      if (!burger || !overlay) return;
      function closeMenu(){ overlay.classList.remove("is-open"); overlay.setAttribute("aria-hidden", "true"); burger.setAttribute("aria-expanded", "false"); }
      burger.addEventListener("click", function(){ overlay.classList.contains("is-open") ? closeMenu() : (overlay.classList.add("is-open"), overlay.setAttribute("aria-hidden", "false"), burger.setAttribute("aria-expanded", "true")); });
      overlay.addEventListener("click", function(e){ if (e.target === overlay) closeMenu(); });
      if (drawer) drawer.querySelectorAll(".chip").forEach(function(a){ a.addEventListener("click", closeMenu); });
      document.addEventListener("keydown", function(e){ if (e.key === "Escape" && overlay.classList.contains("is-open")) closeMenu(); });
    })();
  </script>
</body>
</html>
